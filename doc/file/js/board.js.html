<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">js/board.js | Minesweeper</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/J3Productions/minesweeper-js"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/board.js~Board.html">Board</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/tile.js~Tile.html">Tile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-boardGen">boardGen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkMinesInput">checkMinesInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-leftClick">leftClick</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rightClick">rightClick</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">js/board.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&apos;use strict&apos;;
import { Tile } from &apos;./tile.js&apos;;

/**
 * Board class, which stores the game board and all related methods
 * @implements {Tile}
 */
export class Board {
    /**
	* Constructor creates a board, setting all necessary variables and creating a 2D array to store the tiles based on user input.
	* @param {number} numMines Number of mines on the board.
	* @param {number} rows Number of rows (height) on the board.
	* @param {number} columns Number of columns (length) on the board.
	*/
    constructor(numMines, rows, columns) {
        /** Number of rows (height) on the board. Range: 2-50
		* @type {number} */
        this.rows = Number(rows);

        /** Number of columns (length) on the board. Range: 2-50
		* @type {number} */
        this.columns = Number(columns);

        /** Number of mines on the board. Range: 1-2499 (Depending on board size)
		* @type {number} */
        this.minesTotal = Number(numMines);

        /** 2D array storing all tile objects on the board.
		* @type {Tile[]} */
        this.arr = [];

        /** Number of mines that the user has flagged. Must be equal to minesTotal to win the game.
		* @type {number} */
        this.minesFlagged = 0;

        /** Flag that indicates if the player has won the game.
		* @type {boolean} */
        this.winner = false;

        /** Flag that indicates if the player has lost the game.
		* @type {boolean} */
        this.loser = false;

        /** Variable to keep track of mines left that haven&apos;t been flagged.
		*@type {number}*/
        this.minesNotFlagged = numMines;

        /** Variable to keep track of  number of  flags.
		*@type {number}*/
        this.numFlags = this.minesTotal;

        /** Variable to keep track of tiles without a mine in it.
		*@type {number}*/
        this.noMineTiles = ((rows * columns) - numMines);

        for(let i = 0; i&lt;rows; i++)
        {
            this.arr[i]= [];
            for(let j = 0; j&lt;columns; j++)
            {
                this.arr[i][j] = new Tile();// Adding default tiles
            }
        }
    }

    /**
	* This function plant the Mines inside the arr. The Number of Mines are given by player. Using Math.random() to ramdomly plant the Mines.
	*/
    plantMine() {
        let numMines = this.minesTotal;
        while(numMines&gt; 0)
        {
            let i= Math.floor(Math.random() * this.rows); // Assign random i no larger than numRows
            let j= Math.floor(Math.random() * this.columns);// Assign random j no larger than numColumns
            if(this.arr[i][j].getMine()== false)
            {
                this.arr[i][j].setMine(true); // Reassign mine to equal true
                numMines= numMines- 1;
            }
        }
    }

    /**
	* This function change each tile&apos;s adjNum.
	*/
    plantAdjNum() {
        for (let i = 0; i &lt; this.rows; i++)
        {
            for (let j = 0; j &lt; this.columns; j++)
            {
                if(this.arr[i][j].getMine() == false)
                {
                    let tempAdjNum= 0;
                    //&quot;if, elseif&quot; tiles on the edge of the board so we don&apos;t search outside the board. Starting top left and moving clockwise.

                    //Top left tile
                    if (i == 0 &amp;&amp; j == 0)
                    {
                        //Right block check.
                        if (this.arr[i][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower right block check.
                        if (this.arr[(i + 1)][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                        //TopRow &amp;&amp; 0&lt;column&lt;this.arr[j].length-1
                    else if( i == 0 &amp;&amp; j &gt; 0 &amp;&amp; j &lt; this.arr[i].length - 1)
                    {
                        //Right block check.
                        if (this.arr[i][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower right block check.
                        if (this.arr[(i + 1)][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower left block check.
                        if (this.arr[(i + 1)][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                        //Top Right tile
                    else if ( i == 0 &amp;&amp; j == this.arr[i].length -1)
                    {
                        //Lower block check.
                        if (this.arr[(i + 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower left block check.
                        if (this.arr[(i + 1)][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                        //Right column 0&lt;i&lt;this.arr[j].length-1
                    else if(i &gt; 0 &amp;&amp;  j == this.arr[i].length - 1 &amp;&amp; i &lt; this.arr.length - 1)
                    {
                        //Upper left block check.
                        if (this.arr[(i - 1)][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Upper block check.
                        if (this.arr[(i - 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower left block check.
                        if (this.arr[(i + 1)][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                        //Bottom right tile
                    else if(i == this.arr.length - 1 &amp;&amp; j == this.arr[i].length - 1)
                    {
                        //Upper left block check.
                        if (this.arr[(i - 1)][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Upper block check.
                        if (this.arr[(i - 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                        //Bottom row 0&lt;j&lt;this.arr[i].length-1
                    else if(i == this.arr.length - 1 &amp;&amp; j &gt; 0 &amp;&amp; j &lt; this.arr[i].length - 1)
                    {
                        //Upper left block check.
                        if (this.arr[(i - 1)][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Upper block check.
                        if (this.arr[(i - 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Upper right block check.
                        if (this.arr[(i - 1)][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                        //Bottom left tile
                    else if(i == this.arr.length - 1 &amp;&amp; j == 0)
                    {
                        //Upper block check.
                        if (this.arr[(i - 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Upper right block check.
                        if (this.arr[(i - 1)][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                        //Left column 0&lt;i&lt;this.arr[j].length
                    else if(i &gt; 0 &amp;&amp; j == 0 &amp;&amp; i &lt; this.arr.length - 1)
                    {
                        //Upper block check.
                        if (this.arr[(i - 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Upper right block check.
                        if (this.arr[(i - 1)][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower right block check.
                        if (this.arr[(i + 1)][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                        //Every tile inside of the outer rows and columns
                    else if (i &gt; 0 &amp;&amp; j &gt; 0 &amp;&amp; i &lt; this.arr.length - 1 &amp;&amp; j &lt; this.arr[i].length - 1)
                    {
                        //Upper left block check.
                        if (this.arr[(i - 1)][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Upper block check.
                        if (this.arr[(i - 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Upper right block check.
                        if (this.arr[(i - 1)][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower right block check.
                        if (this.arr[(i + 1)][(j + 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //Lower left block check.
                        if (this.arr[(i + 1)][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].getMine() == true)
                        {
                            tempAdjNum= tempAdjNum+ 1;
                        }
                    }
                    this.arr[i][j].setAdjacent(tempAdjNum);
                }
            }
        }
    }

    /**
	* This function changes one tile&apos;s flagged status, changes the number of flags and sets winner to true if all flags have been placed on all mines.
	* @param {number} row Row of tile being flagged.
	* @param {number} column Column of tile being flagged.
	* @return {boolean|null} The status of the tile - true for flagged, false for not flagged, null if nothing can be done
	*/
    setFlag(row, column) {
		//Executes if tile is not currently flagged, revealed, and there are enough flags to place
        if(this.arr[row][column].flagged== false &amp;&amp; this.arr[row][column].getRevealed()== false &amp;&amp; this.numFlags &gt; 0)
        {
            this.arr[row][column].flagged= true;
            this.numFlags = this.numFlags -1;
            /**
            *@desc decrease how many mines are left without a flag.
            */
            if(this.arr[row][column].isMine == true)
                this.minesNotFlagged = this.minesNotFlagged - 1;

            if(this.minesNotFlagged == 0 &amp;&amp; this.numFlags == 0)
            this.winner = true;//Check if all mines are flagged

			return true;
        }
        //Executes if they already have flagged and want to remove the flag.
        else if(this.arr[row][column].flagged== true &amp;&amp; this.arr[row][column].getRevealed()== false)
        {
            this.arr[row][column].flagged= false;//Remove flag
            this.numFlags = this.numFlags + 1;
            /**
			*@desc increase how many mines are left without a flag if player removes flag from a mine.
			*/
            if(this.arr[row][column].isMine == true)
                this.minesNotFlagged = this.minesNotFlagged + 1;

            if(this.minesNotFlagged == 0 &amp;&amp; this.numFlags == 0)
            this.winner = true;//Check if all mines are flagged

			return false;
        }
		//Executes if all the flags have been used or the tile has already been revealed
		else {
			return null;
		}
    }

    /*
    *When the status of the game is Win or Lose, call this function to reveal all the blocks.
    */
    showAllMine() {
        for (var i = 0; i &lt; this.arr.length; i++) {
            for (var j = 0; j &lt; this.arr[i].length; j++) {
                this.arr[i][j].revealed = true;
            }
        }
    }

    /**
	* This is a recursive function. It will execute any one of block on the block been clicked. It will change all the tile&apos;s revealed = true, who have number 0. Even the tile set with flagged.
	* @param {number} i Row property of tile being revealed.
	* @param {number} j Column property of tile being revealed.
	*/
    clickReveal(i, j) {

        let self = this;

        if (this.arr[i][j].getMine() == true) {
            this.arr[i][j].revealed = true;
            this.loser = true;             //If the click by player and it was a bomb, the game is over.
        }
        else {
			if (this.arr[i][j].flagged == true) {
				this.setFlag(i, j);
			}
			
            if (this.arr[i][j].adjNum &gt; 0 &amp;&amp; this.arr[i][j].adjNum &lt; 9) {
                if (this.arr[i][j].revealed == false) {
                    if(this.arr[i][j].flagged == true)
                    {
                        this.setFlag(i, j);
                    }
                    this.arr[i][j].revealed = true;
                }
            }
            else if (this.arr[i][j].adjNum == 0) {
                if (this.arr[i][j].revealed == false) {
                    if(this.arr[i][j].flagged == true)
                    {
                        this.setFlag(i, j);
                    }
                    this.arr[i][j].revealed = true;

                    if (i &gt; 0 &amp;&amp; j &gt; 0 &amp;&amp; i &lt; this.arr.length - 1 &amp;&amp; j &lt; this.arr[i].length - 1) {
                        //Upper left block check.
                        if (this.arr[(i - 1)][(j - 1)].adjNum == 0) {
                            self.clickReveal((i - 1), (j - 1));
                        }
                        else if (this.arr[(i - 1)][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), (j - 1));
                            }

                            this.arr[(i - 1)][(j - 1)].revealed = true;
                        }
                        //Upper block check.
                        if (this.arr[(i - 1)][j].adjNum == 0) {
                            self.clickReveal((i - 1), j);
                        }
                        else if (this.arr[(i - 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), j);
                            }

                            this.arr[(i - 1)][j].revealed = true;
                        }
                        //Upper right block check.
                        if (this.arr[(i - 1)][(j + 1)].adjNum == 0) {
                            self.clickReveal((i - 1), (j + 1));
                        }
                        else if (this.arr[(i - 1)][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), (j + 1));
                            }
                            
                            this.arr[(i - 1)][(j + 1)].revealed = true;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].adjNum == 0) {
                            self.clickReveal(i, (j - 1));
                        }
                        else if (this.arr[i][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j - 1));
                            }
                            
                            this.arr[i][(j - 1)].revealed = true;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].adjNum == 0) {
                            self.clickReveal(i, (j + 1));
                        }
                        else if (this.arr[i][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j + 1));
                            }
                            
                            this.arr[i][(j + 1)].revealed = true;
                        }
                        //Lower left block check.
                        if (this.arr[(i + 1)][(j - 1)].adjNum == 0) {
                            self.clickReveal((i + 1), (j - 1));
                        }
                        else if (this.arr[(i + 1)][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), (j - 1));
                            }
                            
                            this.arr[(i + 1)][(j - 1)].revealed = true;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].adjNum == 0) {
                            self.clickReveal((i + 1), j);
                        }
                        else if (this.arr[(i + 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), j);
                            }
                            
                            this.arr[(i + 1)][j].revealed = true;
                        }
                        //Lower right block check.
                        if (this.arr[(i + 1)][(j + 1)].adjNum == 0) {
                            self.clickReveal((i + 1), (j + 1));
                        }
                        else if (this.arr[(i + 1)][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), (j + 1));
                            }
                            
                            this.arr[(i + 1)][(j + 1)].revealed = true;
                        }
                    }
                        //check speical left column without two corner blocks							//fixed
                    else if (i &gt; 0 &amp;&amp; i &lt; this.arr.length - 1 &amp;&amp; j == 0) {
                        //Upper block check.
                        if (this.arr[(i - 1)][j].adjNum == 0) {
                            self.clickReveal((i - 1), j);
                        }
                        else if (this.arr[(i - 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), j);
                            }

                            this.arr[(i - 1)][j].revealed = true;
                        }
                        //Upper right block check.
                        if (this.arr[(i - 1)][(j + 1)].adjNum == 0) {
                            self.clickReveal((i - 1), (j + 1));
                        }
                        else if (this.arr[(i - 1)][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), (j + 1));
                            }
                            
                            this.arr[(i - 1)][(j + 1)].revealed = true;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].adjNum == 0) {
                            self.clickReveal(i, (j + 1));
                        }
                        else if (this.arr[i][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j + 1));
                            }
                            
                            this.arr[i][(j + 1)].revealed = true;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].adjNum == 0) {
                            self.clickReveal((i + 1), j);
                        }
                        else if (this.arr[(i + 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), j);
                            }
                            
                            this.arr[(i + 1)][j].revealed = true;
                        }
                        //Lower right block check.
                        if (this.arr[(i + 1)][(j + 1)].adjNum == 0) {
                            self.clickReveal((i + 1), (j + 1));
                        }
                        else if (this.arr[(i + 1)][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), (j + 1));
                            }
                            
                            this.arr[(i + 1)][(j + 1)].revealed = true;
                        }
                    }
                        //check speical Lower row
                    else if (i == this.arr.length - 1 &amp;&amp; j &gt; 0 &amp;&amp; j &lt; this.arr[i].length - 1) 		//fixed
                    {
                        //Upper left block check.
                        if (this.arr[(i - 1)][(j - 1)].adjNum == 0) {
                            self.clickReveal((i - 1), (j - 1));
                        }
                        else if (this.arr[(i - 1)][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), (j - 1));
                            }

                            this.arr[(i - 1)][(j - 1)].revealed = true;
                        }
                        //Upper block check.
                        if (this.arr[(i - 1)][j].adjNum == 0) {
                            self.clickReveal((i - 1), j);
                        }
                        else if (this.arr[(i - 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), j);
                            }

                            this.arr[(i - 1)][j].revealed = true;
                        }
                        //Upper right block check.
                        if (this.arr[(i - 1)][(j + 1)].adjNum == 0) {
                            self.clickReveal((i - 1), (j + 1));
                        }
                        else if (this.arr[(i - 1)][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), (j + 1));
                            }
                            
                            this.arr[(i - 1)][(j + 1)].revealed = true;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].adjNum == 0) {
                            self.clickReveal(i, (j - 1));
                        }
                        else if (this.arr[i][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j - 1));
                            }
                            
                            this.arr[i][(j - 1)].revealed = true;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].adjNum == 0) {
                            self.clickReveal(i, (j + 1));
                        }
                        else if (this.arr[i][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j + 1));
                            }
                            
                            this.arr[i][(j + 1)].revealed = true;
                        }
                    }
                        //check speical right column
                    else if (i &gt; 0 &amp;&amp; i &lt; this.arr.length - 1 &amp;&amp; j == this.arr[i].length - 1) 			//fixed
                    {
                        //Upper left block check.
                        if (this.arr[(i - 1)][(j - 1)].adjNum == 0) {
                            self.clickReveal((i - 1), (j - 1));
                        }
                        else if (this.arr[(i - 1)][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), (j - 1));
                            }

                            this.arr[(i - 1)][(j - 1)].revealed = true;
                        }
                        //Upper block check.
                        if (this.arr[(i - 1)][j].adjNum == 0) {
                            self.clickReveal((i - 1), j);
                        }
                        else if (this.arr[(i - 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), j);
                            }

                            this.arr[(i - 1)][j].revealed = true;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].adjNum == 0) {
                            self.clickReveal(i, (j - 1));
                        }
                        else if (this.arr[i][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j - 1));
                            }
                            
                            this.arr[i][(j - 1)].revealed = true;
                        }
                        //Lower left block check.
                        if (this.arr[(i + 1)][(j - 1)].adjNum == 0) {
                            self.clickReveal((i + 1), (j - 1));
                        }
                        else if (this.arr[(i + 1)][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), (j - 1));
                            }
                            
                            this.arr[(i + 1)][(j - 1)].revealed = true;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].adjNum == 0) {
                            self.clickReveal((i + 1), j);
                        }
                        else if (this.arr[(i + 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), j);
                            }
                            
                            this.arr[(i + 1)][j].revealed = true;
                        }
                    }
                        //check speical Upper row												//fixed
                    else if (i == 0 &amp;&amp; j &gt; 0 &amp;&amp; j &lt; this.arr[i].length - 1) {
                        //left block check.
                        if (this.arr[i][(j - 1)].adjNum == 0) {
                            self.clickReveal(i, (j - 1));
                        }
                        else if (this.arr[i][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j - 1));
                            }
                            
                            this.arr[i][(j - 1)].revealed = true;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].adjNum == 0) {
                            self.clickReveal(i, (j + 1));
                        }
                        else if (this.arr[i][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j + 1));
                            }
                            
                            this.arr[i][(j + 1)].revealed = true;
                        }
                        //Lower left block check.
                        if (this.arr[(i + 1)][(j - 1)].adjNum == 0) {
                            self.clickReveal((i + 1), (j - 1));
                        }
                        else if (this.arr[(i + 1)][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), (j - 1));
                            }
                            
                            this.arr[(i + 1)][(j - 1)].revealed = true;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].adjNum == 0) {
                            self.clickReveal((i + 1), j);
                        }
                        else if (this.arr[(i + 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), j);
                            }
                            
                            this.arr[(i + 1)][j].revealed = true;
                        }
                        //Lower right block check.
                        if (this.arr[(i + 1)][(j + 1)].adjNum == 0) {
                            self.clickReveal((i + 1), (j + 1));
                        }
                        else if (this.arr[(i + 1)][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), (j + 1));
                            }
                            
                            this.arr[(i + 1)][(j + 1)].revealed = true;
                        }
                    }
                        //Upper left corner
                    else if (i == 0 &amp;&amp; j == 0) {
                        //Right block check.
                        if (this.arr[i][(j + 1)].adjNum == 0) {
                            self.clickReveal(i, (j + 1));
                        }
                        else if (this.arr[i][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j + 1));
                            }
                            
                            this.arr[i][(j + 1)].revealed = true;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].adjNum == 0) {
                            self.clickReveal((i + 1), j);
                        }
                        else if (this.arr[(i + 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), j);
                            }
                            
                            this.arr[(i + 1)][j].revealed = true;
                        }
                        //Lower right block check.
                        if (this.arr[(i + 1)][(j + 1)].adjNum == 0) {
                            self.clickReveal((i + 1), (j + 1));
                        }
                        else if (this.arr[(i + 1)][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), (j + 1));
                            }
                            
                            this.arr[(i + 1)][(j + 1)].revealed = true;
                        }
                    }
                        //Upper right corner
                    else if (i == 0 &amp;&amp; j == this.arr[i].length - 1) {
                        //left block check.
                        if (this.arr[i][(j - 1)].adjNum == 0) {
                            self.clickReveal(i, (j - 1));
                        }
                        else if (this.arr[i][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j - 1));
                            }
                            
                            this.arr[i][(j - 1)].revealed = true;
                        }
                        //Lower left block check.
                        if (this.arr[(i + 1)][(j - 1)].adjNum == 0) {
                            self.clickReveal((i + 1), (j - 1));
                        }
                        else if (this.arr[(i + 1)][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), (j - 1));
                            }
                            
                            this.arr[(i + 1)][(j - 1)].revealed = true;
                        }
                        //Lower block check.
                        if (this.arr[(i + 1)][j].adjNum == 0) {
                            self.clickReveal((i + 1), j);
                        }
                        else if (this.arr[(i + 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i + 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i + 1), j);
                            }
                            
                            this.arr[(i + 1)][j].revealed = true;
                        }
                    }
                        //Lower left corner
                    else if (i == this.arr.length - 1 &amp;&amp; j == 0) {
                        //Upper block check.
                        if (this.arr[(i - 1)][j].adjNum == 0) {
                            self.clickReveal((i - 1), j);
                        }
                        else if (this.arr[(i - 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), j);
                            }

                            this.arr[(i - 1)][j].revealed = true;
                        }
                        //Upper right block check.
                        if (this.arr[(i - 1)][(j + 1)].adjNum == 0) {
                            self.clickReveal((i - 1), (j + 1));
                        }
                        else if (this.arr[(i - 1)][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), (j + 1));
                            }
                            
                            this.arr[(i - 1)][(j + 1)].revealed = true;
                        }
                        //Right block check.
                        if (this.arr[i][(j + 1)].adjNum == 0) {
                            self.clickReveal(i, (j + 1));
                        }
                        else if (this.arr[i][(j + 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j + 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j + 1));
                            }
                            
                            this.arr[i][(j + 1)].revealed = true;
                        }
                    }
                        //Lower right corner
                    else if (i == this.arr.length - 1 &amp;&amp; j == this.arr[i].length - 1) {
                        //Upper left block check.
                        if (this.arr[(i - 1)][(j - 1)].adjNum == 0) {
                            self.clickReveal((i - 1), (j - 1));
                        }
                        else if (this.arr[(i - 1)][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), (j - 1));
                            }

                            this.arr[(i - 1)][(j - 1)].revealed = true;
                        }
                        //Upper block check.
                        if (this.arr[(i - 1)][j].adjNum == 0) {
                            self.clickReveal((i - 1), j);
                        }
                        else if (this.arr[(i - 1)][j].adjNum &lt; 9 &amp;&amp; this.arr[(i - 1)][j].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag((i - 1), j);
                            }

                            this.arr[(i - 1)][j].revealed = true;
                        }
                        //left block check.
                        if (this.arr[i][(j - 1)].adjNum == 0) {
                            self.clickReveal(i, (j - 1));
                        }
                        else if (this.arr[i][(j - 1)].adjNum &lt; 9 &amp;&amp; this.arr[i][(j - 1)].revealed == false) {
                            if(this.arr[i][j].flagged == true)
                            {
                                this.setFlag(i, (j - 1));
                            }
                            
                            this.arr[i][(j - 1)].revealed = true;
                        }
                    }
                }
            }
        }
    }

    isTileRevealed(row, column) {
        //var test = this.arr[row][column].revealed;
		return this.arr[row][column].revealed;
	}

	getTileAdj(row, column) {
		return this.arr[row][column].getAdjacent();
	}
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
